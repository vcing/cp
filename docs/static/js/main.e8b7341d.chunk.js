(this["webpackJsonpcalendar-puzzle"]=this["webpackJsonpcalendar-puzzle"]||[]).push([[0],[,function(e,t,a){e.exports={test:"Test_test__3fKby",title:"Test_title__1oKfi",block:"Test_block__OQW3K",blockTitle:"Test_blockTitle__3SYvg",blockContent:"Test_blockContent__1pdZm",dataList:"Test_dataList__3P2sI",remove:"Test_remove__2racC",inputArea:"Test_inputArea__10vpA",add:"Test_add__5l8df",dialog:"Test_dialog__13zPF",message:"Test_message__1gYyL",setting:"Test_setting__1OOYf",disabled:"Test_disabled__2LBEQ"}},function(e,t,a){e.exports={calendar:"Calendar_calendar__TTH3C",title:"Calendar_title__2Vakv",wrap:"Calendar_wrap__27NA6",timeLine:"Calendar_timeLine__26J4G",timeGroup:"Calendar_timeGroup__2uy7e",time:"Calendar_time__3UyuH",timeHalf:"Calendar_timeHalf__Dyh7b",container:"Calendar_container__3AlIY",node:"Calendar_node__3ApFB"}},,,,,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),s=a.n(i),c=(a(15),a(9)),l=a(3),o=a(2),m=a.n(o),u=function(e){var t=e.nodeGroups,a=[];return t.forEach((function(e){e.nodes.forEach((function(t){a.push(r.a.createElement("div",{key:t.id,className:m.a.node,style:{width:600/e.siblings,height:t.duration,top:t.start,left:600*t.index/e.siblings}},r.a.createElement("h3",null,"Sample Item"),r.a.createElement("p",null,"Sample Location")))}))})),r.a.createElement("div",{className:m.a.calendar},r.a.createElement("h1",{className:m.a.title},"Calendar"),r.a.createElement("div",{className:m.a.wrap},r.a.createElement("div",{className:m.a.timeLine},[9,10,11,12,1,2,3,4,5,6,7,8].map((function(e,t){return r.a.createElement("div",{key:e,className:m.a.timeGroup},r.a.createElement("div",{className:m.a.time},e,":00",r.a.createElement("span",null,t<4?"AM":"PM")),r.a.createElement("div",{className:m.a.timeHalf},e,":30"))})),r.a.createElement("div",{className:m.a.timeGroup},r.a.createElement("div",{className:m.a.time},"9:00",r.a.createElement("span",null,"PM")))),r.a.createElement("div",{className:m.a.container},a)))},d=a(4),h=a(1),f=a.n(h),p=function(e){return!(e.start>=e.end||e.start<0||e.end>720)},v=function(e){if(0===e.length)return[];if(!e.every(p))throw new Error("invalid events");e.sort((function(e,t){return e.start!==t.start?e.start-t.start:e.end-t.end}));for(var t=[],a=e[0].start,n=e[0].end,r={id:t.length,events:[e[0]],start:a,end:n},i=1;i<e.length;i+=1){var s=e[i];s.start>=n?(r.end=n,t.push(r),a=s.start,n=s.end,r={id:t.length,events:[s],start:a,end:n}):(n=Math.max(s.end,n),r.events.push(s))}return r.end=n,t.push(r),t},b=function(e){if(1===e.events.length){var t=e.events[0];return{id:e.id,nodes:[{id:t.id,start:t.start,duration:t.end-t.start,index:0}],siblings:1}}var a={id:e.id,nodes:[],siblings:0},n={};e.events.forEach((function(e){n[e.start]?n[e.start].push(e):n[e.start]=[e],n[e.end]?n[e.end].unshift(e):n[e.end]=[e]}));var r=Object.keys(n).map((function(e){return parseInt(e,10)})).sort((function(e,t){return e-t})),i=0,s=0,c=[];return r.forEach((function(e){n[e].forEach((function(t){if(e===t.start){i+=1;var n=0===c.length?0:c.findIndex((function(e){return void 0===e||-1===e}));n=-1===n?c.length:n,c[n]=t.id,a.nodes.push({id:t.id,start:t.start,duration:t.end-t.start,index:n})}else{i-=1;var r=c.findIndex((function(e){return e===t.id}));c[r]=-1}})),s=Math.max(s,i)})),a.siblings=s,a},_=function(e,t,a){for(var n=[],r=0;r<e;r+=1){var i=Math.floor(Math.random()*(719-t)),s=Math.floor(i+t+Math.random()*Math.min(720-i-t,a));n.push({start:i,end:s,id:r})}return n},E=function(e,t,a,n){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:720,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=[],l=0;l<n;l+=1)c.push(_(a,r,i));var o=+new Date;return console.time(s?"compute":"render"),c.forEach((function(e){s?v(e).map(b):t(e)})),console.timeEnd(s?"compute":"render"),e("".concat(s?"Compute":"Render"," ").concat(a," events layout ").concat(n," times in ").concat(+new Date-o,"ms")),!0},g=function(e){var t=e.setData,a=e.data,i=Object(n.useState)("0"),s=Object(l.a)(i,2),c=s[0],o=s[1],m=Object(n.useState)("120"),u=Object(l.a)(m,2),h=u[0],p=u[1],v=Object(n.useState)("10"),b=Object(l.a)(v,2),_=b[0],g=b[1],N=Object(n.useState)("1"),C=Object(l.a)(N,2),x=C[0],y=C[1],O=Object(n.useState)("30"),k=Object(l.a)(O,2),j=k[0],T=k[1],w=Object(n.useState)("720"),M=Object(l.a)(w,2),S=M[0],H=M[1],I=Object(n.useState)(["Render finished."]),A=Object(l.a)(I,2),L=A[0],F=A[1],D=function(e){F([].concat(Object(d.a)(L),[e]))},G={start:o,end:p,count:g,times:y,minHeight:T,maxHeight:H},z=function(e){return function(t){var a=t.target.value;G[e](a)}},B=function(e){return function(){!function(e,t,a){var n=e.findIndex((function(e){return e.id===a}));if(n||0===n){var r=Object(d.a)(e);r.splice(n,1),t(r)}}(a,t,e)}},P=function(e){return alert("".concat(e," must be a positive number."))},R=function(){return Number.isNaN(+_)||+_<=0?(P("max events count"),!1):Number.isNaN(+x)||+x<=0?(P("times"),!1):Number.isNaN(+j)||+j<=0?(P("min height"),!1):Number.isNaN(+S)||+S<=0?(P("max height"),!1):!(+S<=+j)||(alert("max height must be larger than min height."),!1)};return r.a.createElement("div",{className:f.a.test},r.a.createElement("h1",{className:f.a.title},"Test"),r.a.createElement("div",{className:f.a.block},r.a.createElement("h3",{className:f.a.blockTitle},"Current Data"),r.a.createElement("div",{className:f.a.blockContent},r.a.createElement("ul",{className:f.a.dataList},a.map((function(e){return r.a.createElement("li",{key:e.id},"Start: ".concat(e.start," End: ").concat(e.end),r.a.createElement("button",{className:f.a.remove,type:"submit",onClick:B(e.id)},"x"))}))),r.a.createElement("div",{className:f.a.inputArea},r.a.createElement("label",{htmlFor:"startInput"},"Start:",r.a.createElement("input",{id:"startInput",type:"text",value:c,onChange:z("start")})),r.a.createElement("label",{htmlFor:"endInput"},"End:",r.a.createElement("input",{id:"endInput",type:"text",value:h,onChange:z("end")})),r.a.createElement("button",{className:f.a.add,type:"submit",onClick:function(){!function(e,t,a,n){var r=+a,i=+n;if(Number.isNaN(r))return alert("start must be a number.");if(Number.isNaN(i))return alert("end must be a number.");if(r<0||r>719)return alert("start must be with 0 ~ 719");if(i<1||i>720)return alert("end must be with 1 ~ 720");if(i<=r)return alert("end must be large then start.");var s={start:r,end:i,id:0===e.length?0:Math.max.apply(Math,Object(d.a)(e.map((function(e){return e.id}))))+1};t([].concat(Object(d.a)(e),[s]))}(a,t,c,h)}},"Add")))),r.a.createElement("div",{className:f.a.block},r.a.createElement("h3",{className:f.a.blockTitle},"Random Test"),r.a.createElement("div",{className:f.a.blockContent},r.a.createElement("div",{className:f.a.dialog},Object(d.a)(L).reverse().map((function(e){return r.a.createElement("p",{key:Math.random(),className:f.a.message},e)}))),r.a.createElement("div",{className:f.a.setting},r.a.createElement("label",{htmlFor:"maxEventCount"},"Events count:",r.a.createElement("input",{id:"maxEventCount",type:"text",value:_,onChange:z("count")})),r.a.createElement("label",{htmlFor:"times"},"Times:",r.a.createElement("input",{id:"times",type:"text",value:x,onChange:z("times")})),r.a.createElement("label",{htmlFor:"minHeight"},"Min height:",r.a.createElement("input",{id:"minHeight",type:"text",value:j,onChange:z("minHeight")})),r.a.createElement("label",{htmlFor:"maxHeight"},"Max height:",r.a.createElement("input",{id:"maxHeight",type:"text",value:S,onChange:z("maxHeight")})),r.a.createElement("button",{className:1===+x?"":f.a.disabled,type:"submit",onClick:function(){R()&&E(D,t,+_,+x,+j,+S,!1)}},"Render"),r.a.createElement("button",{type:"submit",onClick:function(){R()&&E(D,t,+_,+x,+j,+S,!0)}},"Compute only")))))},N=(a(16),[{start:30,end:150,id:0},{start:540,end:600,id:1},{start:560,end:620,id:2},{start:610,end:670,id:3}]);var C=function(){var e=Object(n.useState)(N),t=Object(l.a)(e,2),a=t[0],i=t[1],s=v(a).map(b);return window.layOutDay=function(e){for(var t=[],a=0;a<e.length;a+=1)t.push(Object(c.a)({id:a},e[a]));i(t)},r.a.createElement("div",{className:"App"},r.a.createElement(u,{nodeGroups:s}),r.a.createElement(g,{setData:i,data:a}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.e8b7341d.chunk.js.map